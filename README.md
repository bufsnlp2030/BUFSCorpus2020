# 다중 언어분석기 기반 대용량 형태, 구문 말뭉치 반자동 구축
대규모 말뭉치 반자동 구축 플랫폼 개발
  - 다중 언어분석기 기반 반자동 형태, 구문 대용량 말뭉치 구축
  - 수작업  형태, 구문 말뭉치 평가
  - GitHub를 통한 형태, 구문 말뭉치 공개

|||문장|어절|
|:------:|:------:|:------:|:------:|
|구축 규모|형태|14,617,767|196,683,135|
||구문|3,889,038|38,521,608|
|성능 평가|형태|92.00%|99.12%|
||구문|97.00%|99.58%|

---------------------------------------

# 목차

<details>
<summary>펼치기/접기</summary>
<div markdown="1">

### [1. 원시말뭉치](#원시말뭉치)
#### [1.1. 원시말뭉치 전처리](#원시말뭉치-전처리)
    
### [2. 언어분석기](#언어분석기)
#### [2.1. 자동 형태/구문 분석](#자동-형태소-및-구문-분석)
#### [2.2. 반자동 형태소 분석/구문 분석 말뭉치 구축](#반자동-형태소-및-구문-분석)

### [3. 오류 및 불일치 수정](#오류-및-불일치-수정)
#### [3.1. 특정 토큰 일관성 오류 수정](#특정-토큰-일관성-오류-수정)
#### [3.2. 연결어미(EC), 종결어미(EF) 일관성 오류 수정](#연결어미-및-종결어미-일관성-오류-수정)
#### [3.3. Fixed expression에서 의존관계 일관성 수정](#Fixed-expression에서-의존관계-일관성-수정)
#### [3.4. "본용언(의존소) <- 보조용언(지배소)" 규칙 적용](#본용언-및-보조용언-규칙-적용)

### [4. 형태소 분석](#형태소-분석)
#### [4.1. 규칙기반 형태소 분석 결과 정규화](#규칙기반-형태소-분석-결과-정규화)
#### [4.2. 예제기반 형태소 분석 결과 정규화](#예제기반-형태소-분석-결과-정규화)
#### [4.3. 수작업 평가 및 예제](#수작업-평가-및-예제)

### [5. 구문 분석](#구문-분석)
#### [5.1. 수작업 평가 및 예제 : UAS, LAS](#수작업-평가-및-예제)

</div>
</details>

-------------------------------------------

## 원시말뭉치

<details>
<summary>펼치기/접기</summary>
<div markdown="1">

### KCC(Korean Contemporary Corpus) : 원시 말뭉치
- Written raw sentences of the Korean language
- <http://nlp.kookmin.ac.kr/kcc/>

#### 1) KCC150_Korean_sentence_EUCKR.txt
```
150,705,457 words (11,961,347 sentences)
Sentences with quotes are not included.
```

#### 2) KCCq28_Korean_sentence_EUCKR.txt
```
All the sentences include a quote.
28,782,776 words (1,337,721 sentences with double qoutes)
```

#### 3) KCC940_Korean_sentence_EUCKR.txt
```
All the sentences are no more than 30 words.
93,210,332 words (6,263,454 sentences)
```

### 문장 길이 별 원시 말뭉치 분포
<img width="550" alt="그림3" src="https://user-images.githubusercontent.com/61721751/75896241-20f26900-5e7a-11ea-97e9-2cc68b1b4bea.PNG">

## 원시말뭉치 전처리
#### 문장부호(. , ? !)를 별도의 토큰으로 분리함
![그림2](https://user-images.githubusercontent.com/61721751/75887286-e930f480-5e6c-11ea-98f9-df0b0c72411d.png)

#### 인용문에서 내포문장을 추출하여 단문으로 변경 (KCCq28, KCC940 대상)
||문장 수|토큰 수|
|:------:|:------:|:------:|
|KCC150|11,961,347|166,904,618|
|KCCq28|1,355,280|18,113,979|
|KCC940|5,607,898|81,123,651|
|계|__18,924,525__|__266,142,248__|

</div>
</details>

-------------------------------------------

## 언어분석기

<details>
<summary>펼치기/접기</summary>
<div markdown="1">

### 자동 형태소 및 구문 분석
#### 국민대, ETRI, 울산대 언어분석기를 이용하여 분석함
국민대 언어분석 결과는 ETRI, 울산대 언어분석 결과와 형태소 분할 기준 및 태그가 상이하여, 실험에서 ETRI, 울산대 언어분석 결과만 비교함
<img width="550" alt="그림4" src="https://user-images.githubusercontent.com/61721751/75897523-091be480-5e7c-11ea-8911-f02e5149d199.PNG">

### 반자동 형태소 및 구문 분석
#### 복수의 자동 형태소/구문 결과를 비교하여, 일치하는 분석결과를 정답이라고 가정함
![그림5](https://user-images.githubusercontent.com/61721751/75897869-965f3900-5e7c-11ea-92c0-898a2694cf53.png)

</div>
</details>

-------------------------------------------

## 오류 및 불일치 수정

<details>
<summary>펼치기/접기</summary>
<div markdown="1">

### 특정 토큰 일관성 오류 수정
```
및/MAG -> MAJ
혹은/MAG -> MAJ
또는/MAG -> MAJ
즉/MAG -> MAJ
```

### 연결어미 및 종결어미 일관성 오류 수정
* 문장 중간(1~마지막-2) token이 종결어미(EF) 인 경우 연결어미(EC) 로 변환   
단, 다음 token이 symbol인 경우는 제외함

* 문장 마지막-1 token이 연결어미(EC)인 경우 종결어미(EF)로 변환   
단, 다음 token이 SF인 경우만 적용

* 마지막 token이 연결어미(EC)로 끝나는 경우 종결어미(EF)로 변환

### Fixed expression에서 의존관계 일관성 수정
* 뒤 토큰은 앞 토큰만 의존소로 가짐
* 뒤 토큰이 기타 토큰을 의존소로 가지면, 기타 토큰의 지배소를 수정함
![그림6](https://user-images.githubusercontent.com/61721751/75899479-efc86780-5e7e-11ea-940c-15b7fd92c152.png)
```
을/를 <- 통하+어 | 통하+어서
을/를 <- 위하+어 | 위하+어서 | 위하+ㄴ
만 <- 위하+어 | 위하+어서 | 위하+ㄴ
기 <- 위하+어 | 위하+어서 | 위하+ㄴ
에 <- 대하+어 | 대하+어서 | 대하+ㄴ
에 <- 관하+어 | 관하+어서 | 관하+ㄴ
로/으로 <- 인하+어 |  인하+ㄴ | 인하+어서
을/를 <- 필두+로
에 <- 따르+아 | 따르+면
와/과 <- 마찬가지+로
로/으로 <- 말미암+아
…
```
* “ㄹ” <- “수” <- “있/없” 
* “ㄴ” <- “것“ <- “같＂
![그림1](https://user-images.githubusercontent.com/61721751/75899623-1ab2bb80-5e7f-11ea-8742-e48b73f96edb.png)

### 본용언 및 보조용언 규칙 적용
* “본용언(의존소) <-- 보조용언(지배소)” 규칙 적용
* 종결기호 (., !, ?)가 문장 마지막에 나타나는 경우 바로 앞 token을 지배소로 지정
* 콤마(,)는 바로 앞 token을 지배소로 지정
![그림7](https://user-images.githubusercontent.com/61721751/75899945-89901480-5e7f-11ea-9b77-16265b014a32.png)

</div>
</details>

-------------------------------------------

## 형태소 분석
#### 1) 형태소 정규화 전후 일치 토큰 및 문장수
정규화 후 전체 토큰 수 196,683,135(73.90%) / 전체 문장 수 14,617,767(77.24%)

* KCC150   
  ||토큰 수 ||문장 수||
  |:------:|:------:|:------:|:------:|:------:|
  |전체|166,904,509|-|11,961,347|-|
  |형태소 일치(정규화 전)|23,227,819|13.92%|2,242,867|18.75%|
  |형태소 일치(정규화 후)|123,676,121|__74.10%__|9,241,330|__77.26%__|

* KCC940   
  ||토큰 수 ||문장 수||
  |:------:|:------:|:------:|:------:|:------:|
  |전체|81,123,597|-|5,607,899|-|
  |형태소 일치(정규화 전)|10,195,189|12.57%|928,976|16.57%|
  |형태소 일치(정규화 후)|59,215,791|__72.99%__|4,300,770|__76.69%__|
  
* KCCq28   
  ||토큰 수 ||문장 수||
  |:------:|:------:|:------:|:------:|:------:|
  |전체|18,113,978|-|1,355,280|-|
  |형태소 일치(정규화 전)|2,875,703|15.88%|277,697|20.49%|
  |형태소 일치(정규화 후)|13,791,223|__76.14%__|1,075,667|__79.37%__|

 
#### 2) 형태소 정규화 후 일치 문장 길이 분포
- 원시 말뭉치의 문장 길이 분포와, 형태소 분석결과 일치 말뭉치의 문장 길이 분포가 유사함
- 형태소 분석결과 불일치 현상은 문장 길이와 관련이 적음
![그림8](https://user-images.githubusercontent.com/61721751/75903165-84819400-5e84-11ea-8065-de24641dd757.png)
 
### 규칙기반 형태소 분석 결과 정규화
### 예제기반 형태소 분석 결과 정규화
### 수작업 평가 및 예제

-------------------------------------------

## 구문 분석
### 수작업 평가 및 예제
